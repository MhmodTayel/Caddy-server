"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[828],{828:(rt,p,r)=>{r.r(p),r.d(p,{OrdersModule:()=>lt});var i=r(2075),u=r(6087),m=r(4847),t=r(5e3),s=r(1083),h=r(520),x=r(3965),C=r(1783);let g=(()=>{class n{constructor(e,l){this._api=e,this._session=l}getHeaders(){return new h.WM({token:this._session.getToken()})}getOrders(){return this._api.get("/store/orders/all")}getDetails(e){return this._api.get(`/store/orders/orderDetails/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.s),t.LFG(C.m))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var d=r(9808),f=r(773),c=r(8966),O=r(9224),_=r(7423);function Z(n,o){1&n&&(t.TgZ(0,"div",7),t._UZ(1,"mat-spinner"),t.qZA())}function b(n,o){1&n&&(t.TgZ(0,"div",24),t._UZ(1,"img",25),t.qZA())}function D(n,o){if(1&n&&(t.TgZ(0,"div",24),t._UZ(1,"img",26),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.s9C("src",e.images,t.LSH)}}function v(n,o){if(1&n&&(t.TgZ(0,"mat-card")(1,"div",17)(2,"div",18)(3,"h4"),t._uU(4),t.qZA()(),t.YNc(5,b,2,0,"div",19),t.YNc(6,D,2,1,"div",19),t.TgZ(7,"div",20)(8,"h4",21),t._uU(9),t.qZA()(),t.TgZ(10,"div",22)(11,"h4",21),t._uU(12),t.qZA()(),t.TgZ(13,"div",23)(14,"h4",21),t._uU(15),t.qZA()(),t.TgZ(16,"div",23)(17,"h4",21),t._uU(18),t.qZA()()()()),2&n){const e=o.$implicit,l=o.index;t.xp6(4),t.Oqu(l+1),t.xp6(1),t.Q6J("ngIf",void 0===e.images),t.xp6(1),t.Q6J("ngIf",null!=e.images),t.xp6(3),t.Oqu(null==e?null:e.name),t.xp6(3),t.hij("x",null==e?null:e.quantity,""),t.xp6(3),t.hij("Unit Price: ",(null==e?null:e.price)/100," EGP"),t.xp6(3),t.hij(" Total Price: ",(null==e?null:e.amount_total)/100," EGP ")}}function T(n,o){if(1&n&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h2",10),t._uU(3,"Order Summary"),t.qZA(),t.TgZ(4,"div",11)(5,"h4")(6,"span"),t._uU(7," ID: "),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"h4")(10,"span"),t._uU(11,"Order Date: "),t.qZA(),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"h4")(15,"span"),t._uU(16,"Total: "),t.qZA(),t._uU(17),t.qZA()(),t.TgZ(18,"div",11)(19,"h4")(20,"span"),t._uU(21," Shipped To "),t.qZA()(),t.TgZ(22,"h4"),t._uU(23),t.qZA(),t.TgZ(24,"h4"),t._uU(25),t.qZA(),t.TgZ(26,"h4"),t._uU(27),t.qZA()()(),t.TgZ(28,"div",12)(29,"h2",10),t._uU(30,"Order Details"),t.qZA(),t.TgZ(31,"div",13),t.YNc(32,v,19,7,"mat-card",14),t.qZA()(),t.TgZ(33,"div",12)(34,"div",15)(35,"h2",16),t._uU(36,"Total: "),t.qZA(),t.TgZ(37,"h2",16),t._uU(38),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(8),t.hij(" ",null==e.orderDetails?null:e.orderDetails.id,""),t.xp6(4),t.hij("",t.xi3(13,12,null==e.orderDetails?null:e.orderDetails.date,"d/M/yy , h:mm a")," "),t.xp6(5),t.hij(" ",(null==e.orderDetails?null:e.orderDetails.cost)/100," EGP"),t.xp6(6),t.Oqu(null==e.orderDetails||null==e.orderDetails.client?null:e.orderDetails.client.pharmacyName),t.xp6(2),t.Oqu(null==e.orderDetails||null==e.orderDetails.client?null:e.orderDetails.client.pharmacistPhonNumber),t.xp6(2),t.xDo(" ",null==e.orderDetails||null==e.orderDetails.billing_detail||null==e.orderDetails.billing_detail.address?null:e.orderDetails.billing_detail.address.postal_code," , ",null==e.orderDetails||null==e.orderDetails.billing_detail||null==e.orderDetails.billing_detail.address?null:e.orderDetails.billing_detail.address.line1," - ",null==e.orderDetails||null==e.orderDetails.billing_detail||null==e.orderDetails.billing_detail.address?null:e.orderDetails.billing_detail.address.line2," - ",null==e.orderDetails||null==e.orderDetails.billing_detail||null==e.orderDetails.billing_detail.address?null:e.orderDetails.billing_detail.address.city," - ",null==e.orderDetails||null==e.orderDetails.billing_detail||null==e.orderDetails.billing_detail.address?null:e.orderDetails.billing_detail.address.country," "),t.xp6(5),t.Q6J("ngForOf",null==e.orderDetails?null:e.orderDetails.medicines),t.xp6(6),t.hij(" ",(null==e.orderDetails?null:e.orderDetails.cost)/100," EGP")}}let y=(()=>{class n{constructor(e,l){this.route=e,this.order=l,this.orderId=0,this.param="",this.orderDetails=null}ngOnInit(){this.orderId=window.location.href.split("/").pop(),this.order.getDetails(this.orderId).subscribe(e=>{this.orderDetails=e},e=>{})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.gz),t.Y36(g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-details"]],decls:9,vars:3,consts:[["class","w-100 h-100 d-flex justify-content-center",4,"ngIf"],[1,"mat-typography"],["class","container order-details",4,"ngIf"],["align","end"],["mat-button",""],["target","_blank",3,"href"],["mat-button","","mat-dialog-close","","routerLink","/orders"],[1,"w-100","h-100","d-flex","justify-content-center"],[1,"container","order-details"],[1,"row","bg-light","rounded"],[1,"pt-2"],[1,"col-md-6"],[1,"row","pt-3"],[1,"col-md-12"],[4,"ngFor","ngForOf"],[1,"d-flex"],[1,"fw-bolder","pt-2"],[1,"row"],[1,"col-md-2","order-detail"],["class","col-md-2 col-4 order-detail",4,"ngIf"],[1,"col-md-2","col-6","order-detail"],[1,"fw-bold"],[1,"col-md-2","col-2","order-detail"],[1,"col-md-2","col-12","order-detail"],[1,"col-md-2","col-4","order-detail"],["src","../../../../assets//wireframe.jpg",1,"product-img"],[1,"product-img",3,"src"]],template:function(e,l){1&e&&(t.YNc(0,Z,2,0,"div",0),t.TgZ(1,"mat-dialog-content",1),t.YNc(2,T,39,15,"div",2),t.qZA(),t.TgZ(3,"mat-dialog-actions",3)(4,"button",4)(5,"a",5),t._uU(6," View Invoice"),t.qZA()(),t.TgZ(7,"button",6),t._uU(8,"Close"),t.qZA()()),2&e&&(t.Q6J("ngIf",null===l.orderDetails),t.xp6(2),t.Q6J("ngIf",null!=l.orderDetails),t.xp6(3),t.s9C("href",null==l.orderDetails?null:l.orderDetails.receipt_url,t.LSH))},directives:[d.O5,f.Ou,c.xY,d.sg,O.a8,c.H8,_.lW,c.ZT,s.rH],pipes:[d.uU],styles:[".mat-progress-spinner svg{width:50px!important;height:50px!important}.order-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:800}.order-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.mat-typography[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px!important}.order-detail[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}@media screen and (max-width: 768px){.order-detail[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}}.product-img[_ngcontent-%COMP%]{max-width:40px}  .cdk-overlay-pane{min-width:70vw}.mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:10px;border-radius:8px;border-left:8px #ff5722 solid;margin-bottom:2px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 0 1px 1px #0000001a}.mat-button[_ngcontent-%COMP%]{background-color:#ff5722!important;color:#fff!important;font-family:600;padding:5px 30px}button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.mat-sort-header-content[_ngcontent-%COMP%]{font-size:14px!important}"]}),n})();var S=r(5113),P=r(7322),M=r(7531),w=r(5245);function A(n,o){1&n&&t._UZ(0,"mat-spinner",4)}function U(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",5)(1,"input",6,7),t.NdJ("keyup",function(a){return t.CHM(e),t.oxw().applyFilter(a)}),t.qZA()()}}function N(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1,"ID"),t.qZA())}function Y(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.id)}}function q(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Client"),t.qZA())}function I(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",null==e.client?null:e.client.pharmacyName," ")}}function Q(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Client Phone"),t.qZA())}function z(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",null==e.client?null:e.client.pharmacistPhonNumber," ")}}function j(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Date"),t.qZA())}function J(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createdAt,"d/M/yy, h:mm a")," ")}}function H(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Price"),t.qZA())}function k(n,o){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.cost/100," EGP")}}function F(n,o){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Status"),t.qZA())}function G(n,o){1&n&&(t.TgZ(0,"span")(1,"h5")(2,"button",28),t._uU(3,"In Progress"),t.qZA()()())}function E(n,o){1&n&&(t.TgZ(0,"span")(1,"h5")(2,"span",29),t._uU(3,"fulfilled"),t.qZA()()())}function B(n,o){if(1&n&&(t.TgZ(0,"td",26),t.YNc(1,G,4,0,"span",27),t.YNc(2,E,4,0,"span",27),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",e.fulfilled)}}function L(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Order Details"),t.qZA())}function R(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",26)(1,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openDialog()}),t.TgZ(2,"mat-icon"),t._uU(3,"open_in_new"),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(1),t.MGl("routerLink","/orders/details/",e.id,"")}}function $(n,o){1&n&&t._UZ(0,"tr",32)}function W(n,o){1&n&&t._UZ(0,"tr",33)}function X(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"table",8),t.NdJ("matSortChange",function(){return t.CHM(e),t.oxw().sortData()}),t.ynx(1,9),t.YNc(2,N,2,0,"th",10),t.YNc(3,Y,2,1,"td",11),t.BQk(),t.ynx(4,12),t.YNc(5,q,2,0,"th",13),t.YNc(6,I,2,1,"td",14),t.BQk(),t.ynx(7,15),t.YNc(8,Q,2,0,"th",13),t.YNc(9,z,2,1,"td",14),t.BQk(),t.ynx(10,16),t.YNc(11,j,2,0,"th",13),t.YNc(12,J,3,4,"td",14),t.BQk(),t.ynx(13,17),t.YNc(14,H,2,0,"th",13),t.YNc(15,k,2,1,"td",14),t.BQk(),t.ynx(16,18),t.YNc(17,F,2,0,"th",13),t.YNc(18,B,3,2,"td",14),t.BQk(),t.ynx(19,19),t.YNc(20,L,2,0,"th",20),t.YNc(21,R,4,1,"td",14),t.BQk(),t.YNc(22,$,1,0,"tr",21),t.YNc(23,W,1,0,"tr",22),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}const K=function(){return[5,10,25,100]};let V=(()=>{class n{constructor(e,l,a){this.order=e,this.dialog=l,this._breakpointObserver=a,this.displayedColumns=[],this.loading=!0,this.fakedata=[]}ngOnInit(){this._breakpointObserver.observe(["(min-width: 650px)"]).subscribe(e=>{this.displayedColumns=e.matches?["id","client","clientPhone","date","cost","status","action"]:["id","client","date","cost","status","action"]}),this.order.getOrders().subscribe(e=>{this.dataSource=new i.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loading=!1})}openDialog(){this.dialog.open(y,{disableClose:!0}).afterClosed().subscribe(l=>{})}sortData(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}catchRow(e){}test(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g),t.Y36(c.uw),t.Y36(S.Yg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orders-store"]],viewQuery:function(e,l){if(1&e&&(t.Gf(u.NW,5),t.Gf(m.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(l.paginator=a.first),t.iGM(a=t.CRH())&&(l.sort=a.first)}},decls:4,vars:7,consts:[["class","loading-spinner",4,"ngIf"],["class","example-full-width p-2",4,"ngIf"],["mat-table","","matSort","","class","mat-elevation-z8",3,"dataSource","matSortChange",4,"ngIf"],[1,"hidePaginator",3,"length","pageSize","pageSizeOptions"],[1,"loading-spinner"],[1,"example-full-width","p-2"],["matInput","","placeholder","Find Order!",1,"w-auto",3,"keyup"],["input",""],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","class","id",4,"matHeaderCellDef"],["mat-cell","","class","id-cell",4,"matCellDef"],["matColumnDef","client"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","clientPhone",1,"hide"],["matColumnDef","date"],["matColumnDef","cost"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","","yy","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"id"],["mat-cell","",1,"id-cell"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-stroked-button","","color","primary"],[1,"badge","bg-success"],["mat-header-cell","","yy",""],["mat-icon-button","","aria-label","Example icon button with a open in new tab icon",3,"routerLink","click"],["mat-header-row",""],["mat-row",""]],template:function(e,l){1&e&&(t.YNc(0,A,1,0,"mat-spinner",0),t.YNc(1,U,3,0,"mat-form-field",1),t.YNc(2,X,24,3,"table",2),t._UZ(3,"mat-paginator",3)),2&e&&(t.Q6J("ngIf",l.loading),t.xp6(1),t.Q6J("ngIf",!l.loading),t.xp6(1),t.Q6J("ngIf",!l.loading),t.xp6(1),t.Q6J("length",100)("pageSize",10)("pageSizeOptions",t.DdM(6,K)))},directives:[d.O5,f.Ou,P.KE,M.Nt,i.BZ,m.YE,i.w1,i.fO,i.ge,m.nU,i.Dz,i.ev,_.lW,s.rH,w.Hw,i.as,i.XQ,i.nj,i.Gk,u.NW],pipes:[d.uU],styles:['table{width:100%!important;margin:5px;background-color:revert!important;border-collapse:separate!important;border-radius:10px!important}  table .mat-elevation-z8{width:100%!important;background-color:#fff;font-size:15px!important}.forSearch[_ngcontent-%COMP%]{background-color:#f3f1f1;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.example-full-width[_ngcontent-%COMP%]{width:30%}i[_ngcontent-%COMP%]{cursor:pointer;color:#0404aa}tr.mat-row[_ngcontent-%COMP%], tr.mat-footer-row[_ngcontent-%COMP%]{height:auto}td.mat-cell[_ngcontent-%COMP%]{padding:12px 0;font-size:15px!important}th.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;color:#3e3d3d;padding:12px 0}.id-cell[_ngcontent-%COMP%]{position:relative}.id-cell[_ngcontent-%COMP%]:before{content:"";position:absolute!important;background-color:transparent!important;width:20px!important;top:-1px;bottom:0px;left:-5px;border-radius:5px;border-left:5px orange solid}th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:24px}@media (min-width: 0px) and (max-width: 550px){th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{padding:12px 2px}td.mat-cell[_ngcontent-%COMP%]{font-size:14px!important}  .mat-column-id{width:10%!important;text-align:center}th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}  .mat-sort-header-container{display:flex;cursor:pointer;letter-spacing:normal;outline:0}  .id{padding-left:10px!important}  .mat-column-action, .mat-column-edit[_ngcontent-%COMP%], .mat-column-delete[_ngcontent-%COMP%]{width:10%!important;text-align:center}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:5px}i[_ngcontent-%COMP%]{font-size:18px;transition:all 1s}}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.hidePaginator[_ngcontent-%COMP%]{animation:animate 4s}@keyframes animate{0%{visibility:hidden}99%{visibility:hidden}to{visibility:visible}}']}),n})();var tt=r(5642),et=r(1883),nt=r(1699);const ot=[{path:"",component:V,children:[{path:"details/:id"}]}];let lt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez,s.Bz.forChild(ot),nt.I,tt.K,et.q]]}),n})()}}]);